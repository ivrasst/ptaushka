#title([Спецификация ASMR])

#align(right)[
  v0.1.0
]
  
= Формат хранения данных о циклограммах для исполнения (ассемблер микромыши)

#raw(block: true,
"
x.x.x.x.x.x.x.x
^^^
|
|- 00: STOP/IDLE - циклограммы остановки
|- 01: SWD/DWD - циклограммы движения вперед
`- 10: циклограммы поворотов
")

== `00 - Останов`

#raw(block: true, "
0.0.0.0.0.0.0.0: STOP
0.0.0.0.0.0.0.1: IDLE
")

== `01 - Проезд прямо`

#raw(block: true, "
0.1.x.x.x.x.x.x
    ^ ^^^^^^^^^
    |         `- uint5_t: количество полуклеток, которые необходимо проехать
    |- 0: проезд прямо
    `- 1: проезд по диагонали
")

== `10 - Повороты`

#raw(block: true, "
1.0.x.x.x.x.x.x
    ^^^ ^ ^^^ |- Направление поворота
     |  |  |  |- 0: LEFT
     |  |  |  `- 1: RIGHT
     |  |  |
     |  |  |- Угол поворота
     |  |  |- 00: 45deg
     |  |  |- 01: 90deg
     |  |  |- 10: 135deg
     |  |  `- 11: 180deg
     |  |
     |  |- Откуда приходим в поворот (из прямой или диагонали)
     |  |- 0: STRAIGHT
     |  `- 1: DIAG
     |
     |- Вид поворота 90
     |- 00: Shortest
     |- 01: Explore
     `- 10: In-place
        
")


#pagebreak()

== Домашнее задание

#raw(block: true, "
+---+---+---+---+
|           | 3 |
+   +   +   +   +
| 1 |   |       |
+---+   +---+   +
|       | 2 |   |
+   +---+   +   +
| S |           |
+---+---+---+---+

S-1 Explore
01000001 - SWD0.5
10010011 - SS90ER
10010010 - SS90EL
01000010 - SWD1
10010010 - SS90EL
10010010 - SS90EL
01000001 - SWD0.5
00000000 - STOP

S-1 Shortest
10000001 - SD45SR
10001000 - DS45SL
10000110 - SS180SL
00000000 - STOP

1-2 Explore
10100110 - SS180IL
01000001 - SWD0.5
10010011 - SS90ER
01000010 - SWD1
10010011 - SS90ER
10010010 - SS90EL
10010011 - SS90ER
01000010 - SWD1
10010011 - SS90ER
10010011 - SS90ER
01000001 - SWD0.5
00000000 - STOP

...
1-2 Shortest

2-3 Explore
...
2-3 Shortest
10100110 - SS180IL
10000110 - SS180SL
01000100 - SWD2

3-1 Explore
...
3-1 Shortest
")
